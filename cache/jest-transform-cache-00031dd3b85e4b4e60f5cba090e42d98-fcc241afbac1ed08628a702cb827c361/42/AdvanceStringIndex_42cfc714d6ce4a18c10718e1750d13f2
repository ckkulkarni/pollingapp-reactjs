81492b01990ba468760b3b0d673ef1d9
'use strict';

var GetIntrinsic = require('get-intrinsic');
var CodePointAt = require('./CodePointAt');
var IsIntegralNumber = require('./IsIntegralNumber');
var Type = require('./Type');
var MAX_SAFE_INTEGER = require('../helpers/maxSafeInteger');
var $TypeError = GetIntrinsic('%TypeError%');

// https://262.ecma-international.org/12.0/#sec-advancestringindex

module.exports = function AdvanceStringIndex(S, index, unicode) {
  if (Type(S) !== 'String') {
    throw new $TypeError('Assertion failed: `S` must be a String');
  }
  if (!IsIntegralNumber(index) || index < 0 || index > MAX_SAFE_INTEGER) {
    throw new $TypeError('Assertion failed: `length` must be an integer >= 0 and <= 2**53');
  }
  if (Type(unicode) !== 'Boolean') {
    throw new $TypeError('Assertion failed: `unicode` must be a Boolean');
  }
  if (!unicode) {
    return index + 1;
  }
  var length = S.length;
  if (index + 1 >= length) {
    return index + 1;
  }
  var cp = CodePointAt(S, index);
  return index + cp['[[CodeUnitCount]]'];
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJHZXRJbnRyaW5zaWMiLCJyZXF1aXJlIiwiQ29kZVBvaW50QXQiLCJJc0ludGVncmFsTnVtYmVyIiwiVHlwZSIsIk1BWF9TQUZFX0lOVEVHRVIiLCIkVHlwZUVycm9yIiwibW9kdWxlIiwiZXhwb3J0cyIsIkFkdmFuY2VTdHJpbmdJbmRleCIsIlMiLCJpbmRleCIsInVuaWNvZGUiLCJsZW5ndGgiLCJjcCJdLCJzb3VyY2VzIjpbIkFkdmFuY2VTdHJpbmdJbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbnZhciBHZXRJbnRyaW5zaWMgPSByZXF1aXJlKCdnZXQtaW50cmluc2ljJyk7XG5cbnZhciBDb2RlUG9pbnRBdCA9IHJlcXVpcmUoJy4vQ29kZVBvaW50QXQnKTtcbnZhciBJc0ludGVncmFsTnVtYmVyID0gcmVxdWlyZSgnLi9Jc0ludGVncmFsTnVtYmVyJyk7XG52YXIgVHlwZSA9IHJlcXVpcmUoJy4vVHlwZScpO1xuXG52YXIgTUFYX1NBRkVfSU5URUdFUiA9IHJlcXVpcmUoJy4uL2hlbHBlcnMvbWF4U2FmZUludGVnZXInKTtcblxudmFyICRUeXBlRXJyb3IgPSBHZXRJbnRyaW5zaWMoJyVUeXBlRXJyb3IlJyk7XG5cbi8vIGh0dHBzOi8vMjYyLmVjbWEtaW50ZXJuYXRpb25hbC5vcmcvMTIuMC8jc2VjLWFkdmFuY2VzdHJpbmdpbmRleFxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIEFkdmFuY2VTdHJpbmdJbmRleChTLCBpbmRleCwgdW5pY29kZSkge1xuXHRpZiAoVHlwZShTKSAhPT0gJ1N0cmluZycpIHtcblx0XHR0aHJvdyBuZXcgJFR5cGVFcnJvcignQXNzZXJ0aW9uIGZhaWxlZDogYFNgIG11c3QgYmUgYSBTdHJpbmcnKTtcblx0fVxuXHRpZiAoIUlzSW50ZWdyYWxOdW1iZXIoaW5kZXgpIHx8IGluZGV4IDwgMCB8fCBpbmRleCA+IE1BWF9TQUZFX0lOVEVHRVIpIHtcblx0XHR0aHJvdyBuZXcgJFR5cGVFcnJvcignQXNzZXJ0aW9uIGZhaWxlZDogYGxlbmd0aGAgbXVzdCBiZSBhbiBpbnRlZ2VyID49IDAgYW5kIDw9IDIqKjUzJyk7XG5cdH1cblx0aWYgKFR5cGUodW5pY29kZSkgIT09ICdCb29sZWFuJykge1xuXHRcdHRocm93IG5ldyAkVHlwZUVycm9yKCdBc3NlcnRpb24gZmFpbGVkOiBgdW5pY29kZWAgbXVzdCBiZSBhIEJvb2xlYW4nKTtcblx0fVxuXHRpZiAoIXVuaWNvZGUpIHtcblx0XHRyZXR1cm4gaW5kZXggKyAxO1xuXHR9XG5cdHZhciBsZW5ndGggPSBTLmxlbmd0aDtcblx0aWYgKChpbmRleCArIDEpID49IGxlbmd0aCkge1xuXHRcdHJldHVybiBpbmRleCArIDE7XG5cdH1cblx0dmFyIGNwID0gQ29kZVBvaW50QXQoUywgaW5kZXgpO1xuXHRyZXR1cm4gaW5kZXggKyBjcFsnW1tDb2RlVW5pdENvdW50XV0nXTtcbn07XG4iXSwibWFwcGluZ3MiOiJBQUFBLFlBQVk7O0FBRVosSUFBSUEsWUFBWSxHQUFHQyxPQUFPLENBQUMsZUFBZSxDQUFDO0FBRTNDLElBQUlDLFdBQVcsR0FBR0QsT0FBTyxDQUFDLGVBQWUsQ0FBQztBQUMxQyxJQUFJRSxnQkFBZ0IsR0FBR0YsT0FBTyxDQUFDLG9CQUFvQixDQUFDO0FBQ3BELElBQUlHLElBQUksR0FBR0gsT0FBTyxDQUFDLFFBQVEsQ0FBQztBQUU1QixJQUFJSSxnQkFBZ0IsR0FBR0osT0FBTyxDQUFDLDJCQUEyQixDQUFDO0FBRTNELElBQUlLLFVBQVUsR0FBR04sWUFBWSxDQUFDLGFBQWEsQ0FBQzs7QUFFNUM7O0FBRUFPLE1BQU0sQ0FBQ0MsT0FBTyxHQUFHLFNBQVNDLGtCQUFrQkEsQ0FBQ0MsQ0FBQyxFQUFFQyxLQUFLLEVBQUVDLE9BQU8sRUFBRTtFQUMvRCxJQUFJUixJQUFJLENBQUNNLENBQUMsQ0FBQyxLQUFLLFFBQVEsRUFBRTtJQUN6QixNQUFNLElBQUlKLFVBQVUsQ0FBQyx3Q0FBd0MsQ0FBQztFQUMvRDtFQUNBLElBQUksQ0FBQ0gsZ0JBQWdCLENBQUNRLEtBQUssQ0FBQyxJQUFJQSxLQUFLLEdBQUcsQ0FBQyxJQUFJQSxLQUFLLEdBQUdOLGdCQUFnQixFQUFFO0lBQ3RFLE1BQU0sSUFBSUMsVUFBVSxDQUFDLGlFQUFpRSxDQUFDO0VBQ3hGO0VBQ0EsSUFBSUYsSUFBSSxDQUFDUSxPQUFPLENBQUMsS0FBSyxTQUFTLEVBQUU7SUFDaEMsTUFBTSxJQUFJTixVQUFVLENBQUMsK0NBQStDLENBQUM7RUFDdEU7RUFDQSxJQUFJLENBQUNNLE9BQU8sRUFBRTtJQUNiLE9BQU9ELEtBQUssR0FBRyxDQUFDO0VBQ2pCO0VBQ0EsSUFBSUUsTUFBTSxHQUFHSCxDQUFDLENBQUNHLE1BQU07RUFDckIsSUFBS0YsS0FBSyxHQUFHLENBQUMsSUFBS0UsTUFBTSxFQUFFO0lBQzFCLE9BQU9GLEtBQUssR0FBRyxDQUFDO0VBQ2pCO0VBQ0EsSUFBSUcsRUFBRSxHQUFHWixXQUFXLENBQUNRLENBQUMsRUFBRUMsS0FBSyxDQUFDO0VBQzlCLE9BQU9BLEtBQUssR0FBR0csRUFBRSxDQUFDLG1CQUFtQixDQUFDO0FBQ3ZDLENBQUMifQ==