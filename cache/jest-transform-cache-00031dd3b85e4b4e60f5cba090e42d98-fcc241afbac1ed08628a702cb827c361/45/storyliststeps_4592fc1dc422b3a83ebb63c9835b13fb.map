{"version":3,"names":["_getJestObj","mock","_react","_interopRequireDefault","require","_react2","_reactRouterDom","_StoryList","_enzyme","_enzymeAdapterReact","_jestCucumber","obj","__esModule","default","_defineProperty","key","value","_toPropertyKey","Object","defineProperty","enumerable","configurable","writable","arg","_toPrimitive","String","input","hint","prim","Symbol","toPrimitive","undefined","res","call","TypeError","Number","jest","feature","loadFeature","configure","adapter","Adapter","MockIntersectionObserver","constructor","fn","takeRecords","Error","global","IntersectionObserver","defineFeature","test","wrapper","beforeEach","shallow","createElement","MemoryRouter","given","when","then","and","tableHeaders","find","expect","at","text","toEqual","waitFor","tableRows","toHaveLength"],"sources":["storylist.steps.tsx"],"sourcesContent":["import axios from \"axios\";\r\nimport React from \"react\";\r\nimport { render, waitFor } from \"@testing-library/react\";\r\nimport { MemoryRouter } from \"react-router-dom\";\r\nimport StoryList from \"../../StoryList\";\r\nimport { shallow, mount, configure } from \"enzyme\";\r\nimport Adapter from \"enzyme-adapter-react-16\";\r\nimport { loadFeature, defineFeature } from \"jest-cucumber\";\r\nconst feature = loadFeature(\"src/components/features/storylist.feature\");\r\nconfigure({ adapter: new Adapter() });\r\njest.mock(\"axios\");\r\nclass MockIntersectionObserver implements IntersectionObserver {\r\n  root!: Element | Document | null;\r\n  rootMargin!: string;\r\n  thresholds!: readonly number[];\r\n  takeRecords(): IntersectionObserverEntry[] {\r\n    throw new Error(\"Method not implemented.\");\r\n  }\r\n  observe = jest.fn();\r\n  unobserve = jest.fn();\r\n  disconnect = jest.fn();\r\n}\r\n\r\nglobal.IntersectionObserver = MockIntersectionObserver;\r\n\r\ndefineFeature(feature, (test) => {\r\n  let wrapper: any;\r\n\r\n  beforeEach(() => {\r\n    wrapper = shallow(\r\n      <MemoryRouter>\r\n        <StoryList />\r\n      </MemoryRouter>\r\n    );\r\n  });\r\n\r\n  test(\"User can view a list of stories\", ({ given, when, then, and }) => {\r\n    given(\"a user is on the home page\", () => {\r\n      // no code needed here, just setting up the context\r\n    });\r\n\r\n    when(\"the user visits the Story List component\", () => {\r\n      // we already mounted the component in beforeEach\r\n    });\r\n\r\n    then(\r\n      'the user should see a table with columns \"Title\", \"URL\", \"Author\", and \"Created At\"',\r\n      () => {\r\n        const tableHeaders = wrapper.find(\"th\");\r\n        expect(tableHeaders.at(0).text()).toEqual(\"Title\");\r\n        expect(tableHeaders.at(1).text()).toEqual(\"URL\");\r\n        expect(tableHeaders.at(2).text()).toEqual(\"Author\");\r\n        expect(tableHeaders.at(3).text()).toEqual(\"Created At\");\r\n      }\r\n    );\r\n\r\n    and(\"the table should have multiple rows of stories\", async () => {\r\n      // wait for table to load\r\n      await waitFor(() => {\r\n        const tableRows = wrapper.find(\"tbody tr\");\r\n        expect(tableRows).toHaveLength(2); // assuming there are two rows\r\n      });\r\n    });\r\n  });\r\n});\r\n"],"mappings":"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"}